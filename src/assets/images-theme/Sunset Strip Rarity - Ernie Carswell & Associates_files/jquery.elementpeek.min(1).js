!function(){jQuery.fn.elementPeek=function(a){!function(a,t){var n=jQuery(a);function i(a){!function(a){var n=a.offset(),i=a.height(),e=jQuery(window).height(),o=jQuery(window).scrollTop(),s=o+(e-e*t.peekAmountToTrigger),r=n.top+i+parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom"))+parseInt(a.css("margin-top"))+parseInt(a.css("margin-bottom"));if(n.top<s&&o<r)return!0;return!1}(a)?e(a):function(a){a.hasClass("visible")||(t.onViewportIn.call(this,a),a.addClass("visible"))}(a)}function e(a){a.hasClass("visible")&&(t.onViewportOut.call(this,a),a.removeClass("visible"))}t=jQuery.extend({onViewportIn:function(){},onViewportOut:function(){},peekAmountToTrigger:.5},t),n.each(function(a,t){e(jQuery(t)),i(jQuery(t)),jQuery(window).scroll(function(){i(jQuery(t))}).resize(function(){i(jQuery(t))}),jQuery(window).load(function(){jQuery(window).trigger("resize")})})}(jQuery(this),a)};var a={defaults:{epLazyAnimation:"fadeIn",epLazyOffset:"0.3"},init:function(){this.EP_lazy.init(),this.EP_scroll_animation.init()},EP_lazy:{init:function(){jQuery.fn.aiLazy=function(t){a.EP_lazy.aiLazyFunction(jQuery(this),t)},jQuery(".ai-lazy").each(function(){custom_class=""!=jQuery(this).data("class")?jQuery(this).data("class"):"",custom_animation=""!=jQuery(this).data("animation")?jQuery(this).data("animation"):a.defaults.epLazyAnimation,custom_offset=""!=jQuery(this).data("offset")?jQuery(this).data("offset"):a.defaults.epLazyOffset,jQuery(this).aiLazy({class:custom_class,animation:custom_animation,peekAmount:custom_offset})})},aiLazyFunction:function(t,n){var i=jQuery(t);"IMG"==i.prop("nodeName")&&i.attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");var e={class:"",animation:a.defaults.epLazyAnimation,peekAmount:a.defaults.epLazyOffset};n=jQuery.extend(e,n),i.elementPeek({onViewportIn:function(a){obj_src=a.data("src"),"IMG"==a.prop("nodeName")?a.attr("src",obj_src).addClass("ai-lazy-loaded animated "+n.animation).addClass(n.class):"CANVAS"==a.prop("nodeName")&&a.css({"background-image":"url("+obj_src+")"}).addClass("ai-lazy-loaded animated "+n.animation).addClass(n.class)},peekAmountToTrigger:n.peekAmount})}},EP_scroll_animation:{init:function(){a.EP_scroll_animation.onScrollInit(jQuery('*[data-aios-reveal="true"]')),a.EP_scroll_animation.onScrollStaggeredInit(jQuery('*[data-aios-staggered-parent="true"]'))},onScrollInit:function(a){a.each(function(a,t){var n=jQuery(t),i=""!=n.attr("data-aios-animation")?n.attr("data-aios-animation"):"fadeIn",e=""!=n.attr("data-aios-animation-delay")?n.attr("data-aios-animation-delay"):"0s",o=""!=n.attr("data-aios-animation-reset")&&n.attr("data-aios-animation-reset"),s=""!=n.attr("data-aios-animation-offset")?n.attr("data-aios-animation-offset"):"0.3";n.css({"-webkit-animation-delay":e,"-moz-animation-delay":e,"animation-delay":e});var r=n;"true"==o?r.elementPeek({onViewportIn:function(a){n.addClass("animated").addClass(i)},onViewportOut:function(a){n.removeClass("animated").removeClass(i)},peekAmountToTrigger:s}):r.elementPeek({onViewportIn:function(a){n.addClass("animated").addClass(i)},peekAmountToTrigger:s})})},onScrollStaggeredInit:function(t){t.each(function(t,n){var i=jQuery(n),e=jQuery(n).find('[data-aios-staggered-child="true"]'),o=""!=i.attr("data-aios-animation-offset")?i.attr("data-aios-animation-offset"):"0.3";bsAnimationReset=""!=i.attr("data-aios-animation-reset")&&i.attr("data-aios-animation-reset");var s=i;"true"==bsAnimationReset?s.elementPeek({onViewportIn:function(t){a.EP_scroll_animation.aiosDoAnimation(e,!1)},onViewportOut:function(t){a.EP_scroll_animation.aiosDoAnimation(e,!0)},peekAmountToTrigger:o}):s.elementPeek({onViewportIn:function(t){a.EP_scroll_animation.aiosDoAnimation(e,!1)},peekAmountToTrigger:o})})},aiosDoAnimation:function(a,t){a.each(function(a,n){var i=jQuery(n),e=""!=i.attr("data-aios-animation")?i.attr("data-aios-animation"):"fadeIn",o=""!=i.attr("data-aios-animation-delay")?i.attr("data-aios-animation-delay"):"0s";i.css({"-webkit-animation-delay":o,"-moz-animation-delay":o,"animation-delay":o}),1==t?i.removeClass("animated").removeClass(e):i.addClass("animated").addClass(e)})}}};jQuery(document).ready(function(){a.init(),jQuery(document).ajaxComplete(function(){a.init()})})}();